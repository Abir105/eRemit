<app-notification-comp></app-notification-comp>
<!--<pre>{{showData | json}}</pre>-->
<!--<pre>{{updatedDebitFromData | json}}</pre>-->
<!--<pre>{{officerData | json}}</pre>-->
<!--<pre>{{officerIdData | json}}</pre>-->
<!--<pre>{{updatedOfficerIdData | json}}</pre>-->
<form [formGroup]="reactiveForm1" *ngIf="ExHouseDetailsData" class="matero-form-horizontal">
  <div class="card">
    <div class="card-header">
      <div fxLayout="row">
        <div fxFlex="2" >
          <button style="margin-top: 4px" mat-icon-button  [routerLink]="['../../info']" >
            <mat-icon>home</mat-icon>
          </button>
        </div>
        <div fxFlex="38" >
          <h3 style="padding-left: 8px">Update Exchange House</h3>
        </div>
        <div fxFlexOffset="33" fxFlex="30"  >
          <div class="right-nevigation">
<!--            <button mat-icon-button color="primary" type="button" (click)="exchangeHouseUpdate(ex_house_name.value,-->
<!--                    ex_house_prefix.value,ex_house_address.value, country_code.value,-->
<!--                    currency_code.value, city.value, postal_code.value,-->
<!--                    state.value, web_address.value,account_nature.value,-->
<!--                    account_type.value,account_number.value)"-->
<!--                    [disabled]="!reactiveForm1.valid"  matTooltip="Save">-->
<!--              <mat-icon>save</mat-icon>-->
<!--            </button>-->
<!--            <button mat-icon-button color="primary" type="button" (click)="exchangeHouseUpdate(reactiveForm1.value)"-->
<!--                    [disabled]="!reactiveForm1.valid"  matTooltip="Save">-->
<!--              <mat-icon>save</mat-icon>-->
<!--            </button>-->
            <button mat-icon-button color="primary" type="button" (click)="exchangeHouseUpdate(reactiveForm1.value)"
                      matTooltip="Save">
              <mat-icon>save</mat-icon>
            </button>
          </div>
        </div>
      </div>
    </div>
    <div class="container">
      <div fxLayout="column">
        <mat-horizontal-stepper #exHouseStepper formArrayName="formArray" [linear]="false">
          <mat-step formGroupName="0" [stepControl]="formArray?.get([0])">
            <ng-template matStepLabel><b>Basic</b></ng-template>

            <div fxLayout="row" fxLayout.xs="column" fxLayout.sm="column" class="tab">
              <div fxLayout="row wrap" fxLayoutGap="10px" fxFlex="100%" fxFlex.sm="50%" fxLayout.lt-sm="column"
                   fxFlex.xs="100%" fxLayoutAlign="flex-start">
                <mat-form-field fxFlex="0 1 calc(33.33% - 10px)" fxFlex.lt-md="0 1 calc(50% - 10px)" fxFlex.lt-sm="100%"
                                fxFlex.xs="100%" appearance="fill">
                  <mat-label>Exchange House name</mat-label>
                  <input matInput formControlName="ex_house_name" #ex_house_name [(ngModel)]="ExHouseDetailsData.ex_house_name" required>
                  <mat-error *ngIf="ex_house_name.required">This field is required and text only</mat-error>
                </mat-form-field>
                <mat-form-field fxFlex="0 1 calc(33.33% - 10px)" fxFlex.lt-md="0 1 calc(50% - 10px)" fxFlex.lt-sm="100%"
                                fxFlex.xs="100%" appearance="fill">
                  <mat-label>Exchange House Prefix</mat-label>
                  <input matInput formControlName="ex_house_prefix" #ex_house_prefix [(ngModel)]="ExHouseDetailsData.ex_house_prefix" required>
                  <mat-error>This field is required</mat-error>
                </mat-form-field>
                <mat-form-field fxFlex="0 1 calc(33.33% - 10px)" fxFlex.lt-md="0 1 calc(50% - 10px)" fxFlex.lt-sm="100%"
                                fxFlex.xs="100%" appearance="fill">
                  <mat-label>Country</mat-label>
                  <mat-select  formControlName="country_code" #country_code  [(ngModel)]="ExHouseDetailsData.country_code"  required>
                    <mat-option *ngFor="let country of countryData" [value]="country.name">{{country.name}} </mat-option>
                  </mat-select>
                  <mat-error>This field is required</mat-error>

                </mat-form-field>
                <mat-form-field fxFlex="0 1 calc(33.33% - 10px)" fxFlex.lt-md="0 1 calc(50% - 10px)" fxFlex.lt-sm="100%"
                                fxFlex.xs="100%" appearance="fill">
                  <mat-label>Currancy</mat-label>
                  <mat-select placeholder="Currancy" formControlName="currency_code"  [(ngModel)]="ExHouseDetailsData.currency_code"  #currency_code required>
                    <mat-option *ngFor="let currency of currencyData" [value]="currency.cur_name">{{currency.cur_name}} </mat-option>
                  </mat-select>
                  <mat-error>This field is required</mat-error>

                </mat-form-field>

              </div>
            </div>
            <div class="navigationButtons">
              <button  mat-button matStepperNext type="button"> <mat-icon>arrow_forward</mat-icon></button>
            </div>
          </mat-step>
          <mat-step formGroupName="1" [stepControl]="formArray?.get([1])">
            <ng-template matStepLabel><b>Address</b></ng-template>

            <div fxLayout="row" fxLayout.xs="column" fxLayout.sm="column" class="tab">
              <div fxLayout="row wrap" fxLayoutGap="10px" fxFlex="100%" fxFlex.sm="50%" fxLayout.lt-sm="column"
                   fxFlex.xs="100%" fxLayoutAlign="flex-start">
                <mat-form-field fxFlex="0 1 calc(33.33% - 10px)" fxFlex.lt-md="0 1 calc(50% - 10px)" fxFlex.lt-sm="100%"
                                fxFlex.xs="100%" appearance="fill">
                  <mat-label>City</mat-label>
                  <input matInput formControlName="city" #city [(ngModel)]="ExHouseDetailsData.ex_house_prefix" required>
                  <mat-error>This field is required</mat-error>
                </mat-form-field>

                <mat-form-field fxFlex="0 1 calc(33.33% - 10px)" fxFlex.lt-md="0 1 calc(50% - 10px)" fxFlex.lt-sm="100%"
                                fxFlex.xs="100%" appearance="fill">
                  <mat-label>State</mat-label>
                  <input matInput formControlName="state" #state [(ngModel)]="ExHouseDetailsData.state" required>
                  <mat-error>This field is required</mat-error>
                </mat-form-field>
                <mat-form-field fxFlex="0 1 calc(33.33% - 10px)" fxFlex.lt-md="0 1 calc(50% - 10px)" fxFlex.lt-sm="100%"
                                fxFlex.xs="100%" appearance="fill">
                  <mat-label>Postal Code</mat-label>
                  <input matInput formControlName="postal_code" type="number" [(ngModel)]="ExHouseDetailsData.postal_code" #postal_code required>
                  <mat-error>This field is required</mat-error>
                </mat-form-field>
                <mat-form-field fxFlex="0 1 calc(33.33% - 10px)" fxFlex.lt-md="0 1 calc(50% - 10px)" fxFlex.lt-sm="100%"
                                fxFlex.xs="100%" appearance="fill">
                  <mat-label>Exchange House Address</mat-label>
                  <textarea matInput rows="1" formControlName="ex_house_address" [(ngModel)]="ExHouseDetailsData.ex_house_address" #ex_house_address required></textarea>
                  <mat-error>This field is required</mat-error>
                </mat-form-field>
                <mat-form-field fxFlex="0 1 calc(33.33% - 10px)" fxFlex.lt-md="0 1 calc(50% - 10px)" fxFlex.lt-sm="100%"
                                fxFlex.xs="100%" appearance="fill">
                  <mat-label>Web Address</mat-label>
                  <input matInput formControlName="web_address" [(ngModel)]="ExHouseDetailsData.web_address" #web_address required>
                  <mat-error>This field is required</mat-error>
                </mat-form-field>
              </div>
            </div>
            <div class="navigationButtons">
              <button mat-button matStepperPrevious type="button"> <mat-icon>arrow_back</mat-icon></button>
              <button mat-button matStepperNext type="button"> <mat-icon>arrow_forward</mat-icon></button>
            </div>
          </mat-step>

          <mat-step formGroupName="2" [stepControl]="formArray?.get([2])">
            <ng-template matStepLabel><b>Account Information</b></ng-template>

            <div fxLayout="row" fxLayout.xs="column" fxLayout.sm="column" class="tab">
              <div fxLayout="row wrap" fxLayoutGap="10px" fxFlex="100%" fxFlex.sm="50%" fxLayout.lt-sm="column"
                   fxFlex.xs="100%" fxLayoutAlign="flex-start">
                <mat-form-field fxFlex="0 1 calc(33.33% - 10px)" fxFlex.lt-md="0 1 calc(50% - 10px)" fxFlex.lt-sm="100%"
                                fxFlex.xs="100%" appearance="fill">
                  <mat-label>Account Nature:</mat-label>
                  <mat-select  formControlName="account_nature" #account_nature  [(ngModel)]="ExHouseDetailsData.account_nature"  required>
                    <mat-option *ngFor="let acN of acNature" [value]="acN.viewValue">
                      {{acN.viewValue}}
                    </mat-option>
                  </mat-select>
                  <mat-error>This field is required</mat-error>
                </mat-form-field>
                <mat-form-field fxFlex="0 1 calc(33.33% - 10px)" fxFlex.lt-md="0 1 calc(50% - 10px)" fxFlex.lt-sm="100%"
                                fxFlex.xs="100%" appearance="fill">
                  <mat-label>Account Type:</mat-label>
                  <mat-select  formControlName="account_type" #account_type [(ngModel)]="ExHouseDetailsData.account_type"  required>
                    <mat-option *ngFor="let acT of acType" [value]="acT.viewValue">
                      {{acT.viewValue}}
                    </mat-option>
                  </mat-select>
                  <mat-error>This field is required</mat-error>
                </mat-form-field>
                <mat-form-field fxFlex="0 1 calc(33.33% - 10px)" fxFlex.lt-md="0 1 calc(50% - 10px)" fxFlex.lt-sm="100%"
                                fxFlex.xs="100%" appearance="fill">
                  <mat-label>Account No:</mat-label>
                  <input matInput formControlName="account_number" [(ngModel)]="ExHouseDetailsData.account_number"  type="number" #account_number required>
                  <mat-error>This field is required</mat-error>
                </mat-form-field>
              </div>
            </div>
            <div  class="navigationButtons">

              <button mat-button matStepperPrevious type="button"> <mat-icon>arrow_back</mat-icon></button>
              <button mat-button matStepperNext type="button"> <mat-icon>arrow_forward</mat-icon></button>
            </div>
          </mat-step>

          <mat-step formGroupName="3" [stepControl]="formArray?.get([3])">
            <ng-template matStepLabel><b>Debit from</b></ng-template>

            <div fxLayout="row" fxLayout.xs="column" fxLayout.sm="column" class="tab">
              <div fxLayout="row wrap" fxLayoutGap="10px" fxFlex="100%" fxFlex.sm="50%" fxLayout.lt-sm="column"
                   fxFlex.xs="100%" fxLayoutAlign="flex-start">
                <mat-form-field fxFlex="0 1 calc(30% - 10px)" fxFlex.lt-md="0 1 calc(50% - 10px)" fxFlex.lt-sm="100%"
                                fxFlex.xs="100%" appearance="fill">
                  <mat-label>Transaction Type:</mat-label>
                  <mat-select  formControlName="transaction_type" #transaction_type >
                    <mat-option *ngFor="let cF of creditFrom" [value]="cF.viewValue">
                      {{cF.viewValue}}
                    </mat-option>
                  </mat-select>
                  <mat-error>This field is required</mat-error>

                </mat-form-field>
                <mat-form-field fxFlex="0 1 calc(30% - 10px)" fxFlex.lt-md="0 1 calc(50% - 10px)" fxFlex.lt-sm="100%"
                                fxFlex.xs="100%" appearance="fill">
                  <mat-label>Debit Account Type:</mat-label>
                  <mat-select  formControlName="debit_account_type" #debit_account_type >
                    <mat-option *ngFor="let ca of creditAccount" [value]="ca.viewValue">
                      {{ca.viewValue}}
                    </mat-option>
                  </mat-select>
                  <mat-error>This field is required</mat-error>
                </mat-form-field>
                <mat-form-field fxFlex="0 1 calc(30% - 10px)" fxFlex.lt-md="0 1 calc(50% - 10px)" fxFlex.lt-sm="100%"
                                fxFlex.xs="100%" appearance="fill">
                  <mat-label>Debit Instruction:</mat-label>
                  <mat-select  formControlName="debit_instruction" #debit_instruction >
                    <mat-option *ngFor="let ca of debitIns" [value]="ca.viewValue">
                      {{ca.viewValue}}
                    </mat-option>
                  </mat-select>
                  <mat-error>This field is required</mat-error>
                </mat-form-field>
                <div fxFlex="0 1 calc(10% - 10px)">
                  <button mat-mini-fab color="primary" style="margin-top: 12px"
                          (click)="getdebitfromDAta(transaction_type.value,debit_account_type.value,debit_instruction.value)">
                    <mat-icon>add</mat-icon></button>
                </div>
              </div>
            </div>
            <div>
              <table class="exhouseTable"  [hidden] = "isShow">
                <tr>
                  <th>Transaction Type</th>
                  <th>Debit Account Type</th>
                  <th>Debit Instruction</th>
                  <th>&nbsp;</th>
                </tr>
                <tr *ngFor="let s of showData">
                  <td>{{s.transaction_type}}</td>
                  <td>{{s.debit_account_type}}</td>
                  <td>{{s.debit_instruction}}</td>
                  <td> <button mat-icon-button color="warn"  (click)="deleteExDebitIns(s.id , s.transaction_type)">
                    <mat-icon class="mat-18">delete_forever</mat-icon></button>
                  </td>
                </tr>

              </table>
              <div class="navigationButtons">
                <button mat-button matStepperPrevious type="button"> <mat-icon>arrow_back</mat-icon></button>
                <button mat-button matStepperNext type="button"> <mat-icon>arrow_forward</mat-icon></button>
              </div>


            </div>
          </mat-step>
          <mat-step formGroupName="4" [stepControl]="formArray?.get([4])">
            <ng-template matStepLabel><b>Officer Setup</b></ng-template>
            <div fxLayout="row" fxLayout.xs="column" fxLayout.sm="column" class="tab">
              <div fxLayout="row wrap" fxLayoutGap="10px" fxFlex="100%" fxFlex.sm="50%" fxLayout.lt-sm="column"
                   fxFlex.xs="100%" fxLayoutAlign="flex-start">
                <div fxFlex="0 1 calc(33.33% - 10px)"  fxFlex.lt-md="0 1 calc(50% - 10px)" fxFlex.lt-sm="100%"
                                fxFlex.xs="100%" appearance="fill">


                </div>

                <mat-form-field fxFlex="0 1 calc(33.33% - 10px)"  fxFlex.lt-md="0 1 calc(50% - 10px)" fxFlex.lt-sm="100%"
                                fxFlex.xs="100%" appearance="fill">
                  <mat-label>Officer Name:</mat-label>
                  <mat-select  formControlName="officer" #officer >
                    <mat-option *ngFor="let ofs of officerListData" [value]="ofs">
                      {{ofs.employeeName}}
                    </mat-option>
                  </mat-select>
                  <mat-error>This field is required</mat-error>

                </mat-form-field>

                <button mat-mini-fab color="primary"  (click)="getofficerdata(officer.value)"> <mat-icon>add</mat-icon></button>
              </div>
            </div>
            <div>
              <table  class="officerTable">
                <tr>
                  <th>officer Code</th>
                  <th>officer Name</th>
                  <th>officer Address</th>
                  <th>Phone Number</th>
                  <th>&nbsp;</th>
                </tr>
                <tr *ngFor="let o of officerData">
                  <td>{{o.employeeCode}}</td>
                  <td>{{o.employeeName}}</td>
                  <td>{{o.emailAddress}}</td>
                  <td>{{o.phoneNumber}}</td>
                  <td> <button mat-icon-button color="warn"  (click)="deleteOfficer(o.id)">
                    <mat-icon class="mat-18">delete_forever</mat-icon></button>
                  </td>
                </tr>

              </table>
              <div class="navigationButtons">
                <button mat-button matStepperPrevious type="button"> <mat-icon>arrow_back</mat-icon></button>
                <!--                <button mat-button matStepperNext type="button"> <mat-icon>arrow_forward</mat-icon></button>-->
              </div>
            </div>
          </mat-step>
          <!--          <mat-step>-->
          <!--            <ng-template matStepLabel><b>Email</b></ng-template>-->
          <!--            <div>-->
          <!--              <ckeditor [editor]="Editor"></ckeditor>-->
          <!--            </div>-->
          <!--          </mat-step>-->
          <!--          <mat-step>-->
          <!--            <ng-template matStepLabel><b>Confirm your information</b></ng-template>-->
          <!--            Everything seems correct.-->
          <!--            <div>-->
          <!--              <button mat-button color="primary"-->
          <!--                      type="button"-->
          <!--                      (click)="exchangeHouseAdd(ex_house_name.value,-->
          <!--                    ex_house_prefix.value,ex_house_address.value, country_code.value,-->
          <!--                    currency_code.value, city.value, postal_code.value,-->
          <!--                    state.value, web_address.value,account_nature.value,-->
          <!--                    account_type.value,account_number.value)"-->
          <!--                      [disabled]="!reactiveForm1.valid" matTooltip="Save">-->
          <!--                Save-->
          <!--              </button>-->
          <!--              <button mat-button type="submit" [disabled]="!reactiveForm1.valid">Save</button>-->
          <!--              <button type="button" mat-button (click)="exHouseStepper.reset()">Reset</button>-->
          <!--            </div>-->
          <!--          </mat-step>-->
        </mat-horizontal-stepper>

      </div>
    </div>
  </div>
</form>








